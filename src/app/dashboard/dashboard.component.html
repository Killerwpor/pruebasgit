<div class="container-flex h-100 w-100 container-all">
  <div class="row">
    <div class="row w-100 row-nav">
      <div class="col-lg-12 p-0">
        <app-navbar
          (open)="onOpen($event)"
          (close)="onClose($event)"
        ></app-navbar>
      </div>
    </div>

    <!-- Agregar usuario -->
    <div
      class="row w-100 row-add"
      style="min-height: 94vh;"
      *ngIf="add"
    >
      <div class="col-lg-4 my-auto">
        <div class="container">
          <div class="row">
            <div class="col-lg-12 my-auto">
              <app-user-form></app-user-form>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-8 my-auto">
        <div class="container">
          <div class="row">
            <div class="col-lg-12 my-auto">
              <app-simulator-form></app-simulator-form>
            </div>
          </div>
        </div>
        <div class="filler" style="margin: 3em;"></div>
        <div class="container h-15">
          <div class="row h-100">
            <div class="col-lg-8"></div>
            <div class="col-lg-2 h-100 my-auto text-center">
              <button type="button" class="btn btn-skew">
                <h5>Guardar</h5>
              </button>
            </div>
            <div class="responsive-filler"></div>
            <div class="col-lg-2 h-100 my-auto text-center">
              <button type="button" class="btn btn-skew" (click)="addUser()">
                <h5>Limpiar</h5>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- dashboard general -->
    <div class="row w-100 row-dash" *ngIf="dash">
      <!-- 
        Panel de lista de contactos del dash, en caso de tamanio de ventana menor
        a 1000 px se esconde en el navbar  
      -->
      <div *ngIf="showSidebar" class="col-lg-2 p-0" style="min-height: 94vh;">
        <div class="row w-100 h-25">
          <!-- simuladores -->
          <div class="col-lg-12 p-0">
            <app-list-simulators></app-list-simulators>
          </div>
        </div>
        <div class="row w-100 h-15">
          <!-- busqueda -->
          <div class="col-lg-12 p-0">
            <app-contact-search (addUser)="addUser($event)"></app-contact-search>
          </div>
        </div>
        <div class="row w-100 h-60">
          <!-- contactos -->
          <div class="col-lg-12 p-0">
            <app-list-contacts></app-list-contacts>
          </div>
        </div>
      </div>

      <!-- 
        Panel principal del dash
      -->
      <div class="col-lg-10 p-0 h-100">
        <!--Parte superior del dash-->
        <div class="row w-100 row-dash-upper">
          <div class="col-lg-4 col-contacts p-0">
            <app-contact-panel></app-contact-panel>
          </div>
          <div class="col-lg-8 p-0 my-auto">
            <router-outlet></router-outlet>
          </div>
        </div>

        <div class="filler" style="margin: 1em;"></div>

        <!--Parte inferior del dash-->
        <div class="row w-100 row-dash-lower">
          <div class="col-lg-7 my-auto">
            <app-message-panel></app-message-panel>
          </div>
          <div class="col-lg-5 my-auto">
            <app-doughnut-chart></app-doughnut-chart>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
